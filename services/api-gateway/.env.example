# services/api-gateway/.env.example
# Kong API Gateway Environment Variables

# =============================================================================
# DATABASE
# =============================================================================
KONG_PG_HOST=kong-database
KONG_PG_PORT=5432
KONG_PG_USER=kong
KONG_PG_PASSWORD=your_secure_password_here
KONG_PG_DATABASE=kong

# =============================================================================
# REDIS (Rate Limiting)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DATABASE=2

# =============================================================================
# KONG SETTINGS
# =============================================================================
KONG_DATABASE=postgres
KONG_PROXY_LISTEN=0.0.0.0:8000, 0.0.0.0:8443 ssl
KONG_ADMIN_LISTEN=0.0.0.0:8001, 0.0.0.0:8444 ssl
KONG_PLUGINS=bundled,flightschool-auth

# =============================================================================
# SSL/TLS (Production)
# =============================================================================
# KONG_SSL_CERT=/etc/kong/ssl/server.crt
# KONG_SSL_CERT_KEY=/etc/kong/ssl/server.key
# KONG_ADMIN_SSL_CERT=/etc/kong/ssl/admin.crt
# KONG_ADMIN_SSL_CERT_KEY=/etc/kong/ssl/admin.key

# =============================================================================
# JWT SETTINGS
# =============================================================================
JWT_SECRET=your_jwt_secret_for_hs256_if_used
JWT_PUBLIC_KEY_PATH=/etc/kong/jwt/public.pem
JWT_ALGORITHM=RS256
JWT_ISSUER=flightschool-auth

# =============================================================================
# KONGA (Admin UI - Development)
# =============================================================================
KONGA_TOKEN_SECRET=your_konga_secret_here

# =============================================================================
# LOGGING
# =============================================================================
KONG_PROXY_ACCESS_LOG=/dev/stdout
KONG_PROXY_ERROR_LOG=/dev/stderr
KONG_ADMIN_ACCESS_LOG=/dev/stdout
KONG_ADMIN_ERROR_LOG=/dev/stderr
KONG_LOG_LEVEL=info

# =============================================================================
# PERFORMANCE
# =============================================================================
KONG_NGINX_WORKER_PROCESSES=auto
KONG_UPSTREAM_KEEPALIVE_POOL_SIZE=100
KONG_NGINX_HTTP_CLIENT_BODY_BUFFER_SIZE=10m
